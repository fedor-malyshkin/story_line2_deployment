# Основноей файл настройки для службы 'monit'
set daemon 15

set logfile /var/log/monit.log

set httpd port ${server_storm_monit_cont_port ?: 2812}
    allow admin:monit      # require user 'admin' with password 'monit'

CHECK PROCESS storm_drpc  with pidfile /server_storm/apache-storm-${server_storm_version}/bin/storm_drpc.pid
	start program = "/server_storm/apache-storm-${server_storm_version}/bin/run_storm_drpc.sh"

CHECK PROCESS storm_supervisor  with pidfile /server_storm/apache-storm-${server_storm_version}/bin/storm_supervisor.pid
	start program = "/server_storm/apache-storm-${server_storm_version}/bin/run_storm_supervisor.sh"

CHECK PROCESS storm_nimbus with pidfile /server_storm/apache-storm-${server_storm_version}/bin/storm_nimbus.pid
	start program = "/server_storm/apache-storm-${server_storm_version}/bin/run_storm_nimbus.sh"

CHECK PROCESS storm_ui with pidfile /server_storm/apache-storm-${server_storm_version}/bin/storm_ui.pid
	start program = "/server_storm/apache-storm-${server_storm_version}/bin/run_storm_ui.sh"

CHECK PROCESS storm_logviewer with pidfile /server_storm/apache-storm-${server_storm_version}/bin/storm_logviewer.pid
	start program = "/server_storm/apache-storm-${server_storm_version}/bin/run_storm_logviewer.sh"
